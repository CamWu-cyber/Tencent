# 《推荐系统实践》--读书笔记

## 第一章 好的推荐系统
1. 好的推荐系统是一个三方（用户、供应商、网站）共赢的系统。首先，一个好的推荐系统需要满足用户的需求，推荐给用户令他们感兴趣的物品；其次，一个好的推荐系统不仅仅让热门的物品展示出来，还要让一些长尾的物品也得到足够的展示。最后，一个好的推荐系统，能够让系统本身收集到高质量的用户反馈，不断完善推荐的质量，增加用户和网站的交互，提高网站收入。
2. 在推荐系统中，主要有三种评测推荐效果的实验方法（离线实验、用户调查、在线实验）

    2.1 离线实验。通过日志数据构建训练集、测试集，在训练集上训练好模型后，在测试集上测试模型的效果，具体的测评指标请看第3.2点；

    2.2 用户调查。需要真实用户参与，并且样本用户的分布要接近真实的用户分布，成本较高，一般不会使用此方法；

    2.3 在线实验。即AB测试，在线上将新模型和旧模型进行比较。它通过一定规则将用户随机分成几组，并对不同组的用户采用不同的算法，然后通过统计不同组用户的各种不同的评测指标比较不同算法，比如点击率 ctr。AB测试优点是可以直观地看到商业上面关注的指标，缺点是周期较长，一般用于测试在离线实验中表现很好的算法。


3. 评价指标

    3.1 用户满意度。获取成本较高；

    3.2 预测准确度，是离线实验中非常重要的一个评价指标。在评分推荐系统中，一般采用“均方根误差RMSE”和“平均绝对误差MAE”来反映预测准确度，具体算法见P25，因为组里的工作并不是采用评分推荐的方式，所以在此不过多关注；另一种是top N推荐，一般采用准确率（precision）或者召回率（recall）度量预测准确度；

    ![precision&recall](https://github.com/CamWu-cyber/Tencent/blob/main/images/%E5%87%86%E7%A1%AE%E7%8E%87%E5%92%8C%E5%8F%AC%E5%9B%9E%E7%8E%87.JPG)


    3.3 覆盖率，描述一个推荐系统对物品长尾的发掘能力。一般采用信息熵或者基尼系数进行度量，书上着重讲解了基尼系数，但目前感觉组里面并未计算覆盖率的问题，所以暂且不谈论。总之基尼系数越小，说明覆盖率越高。

    3.4 多样性、新颖性、惊喜度、信任度、时效性、健壮性都是比较主观判断的指标，以后用到了再详细研究吧。

4.显性反馈行为包括用户明确表示对物品喜好的行为。

5.隐性反馈行为包括那些不能明确反应用户爱好的行为。比如：浏览行为。

6.正反馈指用户的行为倾向于指用户喜欢该物品。

7.负反馈指用户的行为倾向于用户不喜欢该物品。

## 第二章 利用用户行为数据
本章主要介绍了UserCF、ItemCF、隐语义模型LFM和基于图的模型PersonalRank算法。重点关注UserCF和ItemCF。
### 基于用户的协同过滤UserCF
计算user之间的相似度，推荐相似用户A的item给B。

步骤一：输入item-user矩阵；

步骤二：求user-user相似度（不同相似度度量：person系数、曼哈顿距离、余弦值、欧几里得距离）；
![cos](https://github.com/CamWu-cyber/Tencent/blob/main/images/%E4%BD%99%E5%BC%A6%E7%9B%B8%E4%BC%BC%E5%BA%A6%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B.JPG)
步骤三：根据相似度依次求得用户对所有物品的感兴趣分数（有一个公式），根据这个得分对所有物品进行排序，推荐topN的物品给用户。
![score](https://github.com/CamWu-cyber/Tencent/blob/main/images/%E6%89%93%E5%88%86%E5%85%AC%E5%BC%8F.JPG)

### 基于物品的协同过滤ItemCF
计算items之间的相似度，推荐与A的已知item最相关的item给A。

步骤一：输入item-user矩阵；

步骤二：求item-item相似度 （不同相似度度量：person系数、曼哈顿距离、余弦值、欧几里得距离），构建物品-物品之间的余弦相似度矩阵，如下图；

![usercf-score](https://github.com/CamWu-cyber/Tencent/blob/main/images/%E4%BD%99%E5%BC%A6%E7%9B%B8%E4%BC%BC%E7%9F%A9%E9%98%B5.png)

余弦相似度计算过程见UserCF中步骤二的图片；

步骤三：根据相似度依次求得用户对所有物品的感兴趣分数（有一个公式），根据这个得分对所有物品进行排序，推荐topN的物品给用户。步骤二图片里面的“例如：”就是这个公式的例子，仔细体会。
![itemcf-score](https://github.com/CamWu-cyber/Tencent/blob/main/images/icf%E6%89%93%E5%88%86%E5%85%AC%E5%BC%8F.JPG)

##### 关于ICF的一个简单例子
https://bbs.huaweicloud.com/forum/thread-69132-1-1.html

## 第三章  推荐系统冷启动问题
1.问题：用户冷启动，如何给新用户做个性化推荐。

  解决：
  
        利用用户注册时提供的年龄、性别等数据做粗粒度的个性化推荐；
  
        利用用户的社交网络账号，导入用户在社交网络上的好友信息，然后给用户推荐其好友喜欢的物品；
        
        利用用户在登录时对一些物品进行反馈，收集用户对这些物品的兴趣信息，然后给用户推荐那些和这些物品相似的物品。

2.问题：物品冷启动，如何将新物品推荐给可能对它感兴趣的用户。

  解决：对于新加入的物品，可以利用内容信息，将它们推荐给喜欢过和它们相似的物品的用户。

3.问题：系统冷启动，如何在一个新开发的网站上设计个性化推荐系统，从而在网站刚发布时就让用户体验到个性化推荐服务。

  解决：提供非个性化推荐，比如给用户推荐热门排行榜，然后等到用户数据收集到一定的时候，再切换为个性化推荐；

        系统冷启动时，可以引入专家知识，通过一定的高效方式迅速建立起物品的相关度表。
